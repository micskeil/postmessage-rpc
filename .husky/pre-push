#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "📚 Generating documentation..."
npm run docs

# Check if docs-api has uncommitted changes
if git status --short docs-api/ | grep -q .; then
  echo ""
  echo "❌ Documentation has uncommitted changes:"
  echo ""
  git status --short docs-api/
  echo ""
  echo "Please commit the updated documentation before pushing:"
  echo "  git add docs-api/"
  echo "  git commit -m 'docs: update API documentation'"
  echo ""
  exit 1
fi

echo "✅ Documentation is up to date"
exit 0
